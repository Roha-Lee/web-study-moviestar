# web-study-moviestar
## requirements
- beautifulsoup4     4.10.0
- certifi            2021.5.30
- charset-normalizer 2.0.6
- click              8.0.1
- Flask              2.0.1
- idna               3.2
- itsdangerous       2.0.1
- Jinja2             3.0.1
- MarkupSafe         2.0.1
- pip                20.1.1
- pymongo            3.12.0
- requests           2.26.0
- setuptools         47.1.0
- soupsieve          2.2.1
- urllib3            1.26.7
- Werkzeug           2.0.1

## 레이아웃 
- [x] 상단 헤더부분 심플하게 구현
  - [x] 삭제한 아이템들 상단 헤더부분으로 배지로 이동
- [x] 아이템박스 출력 샘플 데이터 이용하여 구현 
  - [x] 좋아요 숫자를 이름 옆에 배지로 표시해주기 
- [x] 박스 맨 아래 부분에 복구 버튼 중앙에 표시 
## 기능 
- [x] 영화인 데이터 구하기 - 스크래핑
  - 필요한 정보 [이름, 좋아요개수:0, 대표 출연작, 사진, url, visible]
- [x] 데이터베이스로부터 정보 가져와서 화면에 출력하는 기능 
  - [x] 데이터베이스로부터 정보 읽어오기
  - [x] 좋아요 순으로 정렬하기 
  - [x] 순서대로 박스 만들어서 출력하기 
- [x] 좋아요 버튼을 누르면 좋아요 1 증가시키고 다시 정렬해서 출력하기 
  - [x] 좋아요 1 증가시켜서 데이터베이스에 저장하기 
  - [x] 페이지 새로고침 
    - [x] 데이터베이스로부터 정보 가져와서 화면에 출력하는 기능 사용하기 
- [x] x 버튼 누르면 화면에서 아이템 제거하기 
  - [x] 위쪽 헤더부분으로 배지 형태로 이름만 표시되도록 이동
  - [x] 배지는 옆으로 쌓이게 만들자
  - [x] 상단 배지 클릭하면 다시 화면으로 나타나도록 만들기 
    - [x] 좋아요 순으로 정렬되도록 더블 체크하기 
- [x] 삭제 버튼 누르면 화면에서 아이템 제거하기 
  - [x] DB에서 영화인 이름을 찾아서 삭제
  - [x] 화면 다시 그리기 
- [x] 초기화 버튼: 초기 상태로 변경 
  - [x] 동작하는 동안 초기화 진행중 메시지 화면에 띄우고 전체 카드 삭제 
  - [x] 데이터베이스를 비우고 
  - [x] 다시 스크래핑을 하여 초기 상태로 만들어 준다. 
  - [x] 화면 다시 그리기 
- [x] 싫어요 버튼을 누르면 좋아요 1 감소시키고 다시 정렬해서 출력하기 
  - [x] 0이하로 떨어지지 않게 만들기
  - [x] 좋아요 1 감소시켜서 데이터베이스에 저장하기 
  - [x] 페이지 새로고침 
    - [x] 데이터베이스로부터 정보 가져와서 화면에 출력하는 기능 사용하기 
- [x] 사진 클릭하면 살짝 키워서 표시해주기 
  - [x] 다시 클릭하면 원래대로 돌려주기 

## API 설계 
- [x] 영화인 불러오기 API
### 요청 정보
  - URL: "/api/list"
  - 요청 방식: GET
  - 요청 데이터: 없음
### 서버 제공 기능 
  - [x] 데이터베이스를 조회하여 전달
### 응답 데이터 
  - [x] (JSON)성공 메시지, 영화인 정보들

- [x] 좋아요 API
### 요청 정보 
  - URL: "/api/like"
  - 요청 방식: POST 
  - 요청 데이터: name_given=이름
### 서버 제공 기능 
  - [x] 데이터베이스에서 이름 검색 
  - [x] 검색한 document의 likes 1 증가 
### 응답 데이터 
  - [x] 성공 메시지

- [x] 싫어요 API
### 요청 정보 
  - URL: "/api/hate"
  - 요청 방식: POST 
  - 요청 데이터: name_given=이름
### 서버 제공 기능 
  - [x] 데이터베이스에서 이름 검색 
  - [x] 검색한 document의 likes가 1이상인지 확인하고 
    - [x] 1이상이면 1감소 
    - [x] 아니면 실패 메시지 돌려주기 
### 응답 데이터 
  - [x] 성공 메시지

- [x] 삭제하기 API
### 요청 정보 
  - URL: "/api/delete"
  - 요청 방식: DELETE
  - 요청 데이터: name_given=이름
### 서버 제공 기능 
  - [x] 데이터베이스에서 이름 검색 
  - [x] 검색된 document삭제 
### 응답 데이터 
  - [x] 성공 메시지

- [x] 초기화 API
### 요청 정보 
  - URL: "/api/reset"
  - 요청 방식: DELETE
  - 요청 데이터: 없음
### 서버 제공 기능 
  - [x] 데이터베이스 비우기
  - [x] 웹 스크래핑 코드 실행
  - [x] 데이터베이스에 저장
### 응답 데이터 
  - [x] 성공 메시지

- [x] 숨기기 API
### 요청 정보 
  - URL: "/api/hide"
  - 요청 방식: POST
  - 요청 데이터: name_given=이름
### 서버 제공 기능 
  - [x] 이름과 일치하는 document 찾기 
  - [x] visible을 False으로 변경 
### 응답 데이터 
  - [x] 성공 메시지

- [x] 나타내기 API
### 요청 정보 
  - URL: "/api/show"
  - 요청 방식: POST
  - 요청 데이터: name_given=이름
### 서버 제공 기능 
  - [x] 이름과 일치하는 document 찾기 
  - [x] visible을 True으로 변경 
### 응답 데이터 
  - [x] 성공 메시지
